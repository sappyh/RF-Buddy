# auto-generated by grc.converter

id: sigmf_annotation_sink
label: Annotation Sink
category: '[SigMF]'

parameters:
-   id: filename
    label: SigMF File
    dtype: file_open
-   id: annotation_mode
    label: Annotation Mode
    dtype: enum
    options: [keep, clear]
    option_labels: [Keep Existing, Clear Existing]
-   id: filter_key
    label: Filter Key
    dtype: string
    hide: ${ ('part' if annotation_mode == 'clear' else 'all') }
-   id: time_mode
    label: Time Handling Mode
    dtype: enum
    options: [gr_sigmf.sigmf_time_mode_absolute, gr_sigmf.sigmf_time_mode_relative]
    option_labels: [Absolute, Relative]

inputs:
-   domain: message
    id: annotations

templates:
    imports: import gr_sigmf
    make: |-
        % if annotation_mode == 'clear':
        gr_sigmf.annotation_sink(${filename}, gr_sigmf.annotation_mode.${annotation_mode(filter_key)}, ${time_mode})
        % else:
        gr_sigmf.annotation_sink(${filename}, gr_sigmf.annotation_mode.${annotation_mode()}, ${time_mode})
        % endif

file_format: 1
